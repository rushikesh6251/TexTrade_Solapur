{% extends 'navigation.html' %}
{% block body %}
{% load static %}

<div class="container">
    <h2 class="text-center mt-4 text-uppercase font-weight-bold">Edit Category</h2>
    <hr>

    <div class="container-fluid d-flex justify-content-center">
        <div class="card p-4 shadow-sm" style="width: 50%; border-radius: 10px;">
            <form method="post" action="">
                {% csrf_token %}
                
                <div class="form-group">
                    <label for="categoryInput"><strong>Category Name</strong></label>
                    <input type="text" class="form-control" id="categoryInput" name="cat" value="{{ category.name }}" required>
                </div>

                <div class="text-center mt-3">
                    <button type="submit" class="btn btn-primary px-4">Update Category</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- JavaScript Alerts for Better User Feedback -->
<script>
    {% if error == "no" %}
        alert('✅ Category has been updated successfully!');
        window.location.href = '{% url "edit_category" category.id %}';
    {% endif %}

    {% if error == "yes" %}
        alert('❌ Something went wrong. Please try again.');
    {% endif %}
</script>

{% endblock %}
